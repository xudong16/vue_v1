{"ast":null,"code":"export default {\n  name: \"UserAddUpdate\",\n  data() {\n    return {\n      visible: false,\n      // 用户\n      user: {\n        id: undefined,\n        username: undefined,\n        nickName: undefined,\n        password: undefined,\n        mobile: undefined,\n        gender: undefined\n      },\n      // 校验\n      rules: {\n        username: [{\n          required: true,\n          message: \"用户名不能为空\",\n          trigger: \"blur\"\n        }, {\n          min: 2,\n          max: 15,\n          message: \"长度为 2 到 15 个字符\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"密码不能为空\",\n          trigger: \"blur\"\n        }],\n        nickName: [{\n          required: true,\n          message: \"用户昵称不能为空\",\n          trigger: \"blur\"\n        }],\n        mobile: [{\n          required: true,\n          message: \"手机号不能为空\",\n          trigger: \"blur\"\n        }],\n        gender: [{\n          required: true,\n          message: \"性别不能为空\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    // 初始化弹窗\n    initDialog(id) {\n      this.user.id = id;\n      // 打开窗体\n      this.visible = true;\n      // 获取用户信息\n      if (this.user.id) {\n        this.$axios.get(`/users/${this.user.id}`).then(({\n          data\n        }) => {\n          this.user = data;\n        });\n      }\n    },\n    // 提交用户\n    submitUser() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.user.id) {\n            // 提交用户\n            this.$axios.patch(`/users/${this.user.id}`, this.user).then(response => {\n              // 提示用户\n              this.$message.success(\"编辑成功\");\n              // 关闭窗体\n              this.visible = false;\n              // 刷新页面\n              this.$emit(\"refreshTable\");\n            });\n          } else {\n            this.$axios.post(\"/users\", this.user).then(response => {\n              // 提示用户\n              this.$message.success(\"新增成功\");\n              // 关闭窗体\n              this.visible = false;\n              // 刷新页面\n              this.$emit(\"refreshTable\");\n            });\n          }\n        }\n      });\n    },\n    closeHandle() {\n      this.$refs.form.resetFields();\n    }\n  }\n};","map":{"version":3,"names":["name","data","visible","user","id","undefined","username","nickName","password","mobile","gender","rules","required","message","trigger","min","max","methods","initDialog","$axios","get","then","submitUser","$refs","form","validate","valid","patch","response","$message","success","$emit","post","closeHandle","resetFields"],"sources":["src/views/page/UserAddUpdate.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      :title=\"user.id ? '编辑' : '新增'\"\r\n      :visible.sync=\"visible\"\r\n      width=\"600px\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"closeHandle\"\r\n    >\r\n      <el-form ref=\"form\" :model=\"user\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"user.username\" placeholder=\"用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户昵称\" prop=\"nickName\">\r\n          <el-input v-model=\"user.nickName\" placeholder=\"用户昵称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"user.password\"\r\n            placeholder=\"密码\"\r\n            show-password\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"mobile\">\r\n          <el-input v-model=\"user.mobile\" placeholder=\"手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"gender\">\r\n          <el-select v-model=\"user.gender\" placeholder=\"性别\">\r\n            <el-option label=\"男性\" value=\"1\"></el-option>\r\n            <el-option label=\"女性\" value=\"2\"></el-option>\r\n            <el-option label=\"未知\" value=\"3\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\">\r\n          <el-button type=\"primary\" @click=\"submitUser\">确 定</el-button>\r\n          <el-button @click=\"visible = false\">取 消</el-button>\r\n        </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"UserAddUpdate\",\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      // 用户\r\n      user: {\r\n        id: undefined,\r\n        username: undefined,\r\n        nickName: undefined,\r\n        password: undefined,\r\n        mobile: undefined,\r\n        gender: undefined,\r\n      },\r\n      // 校验\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"用户名不能为空\", trigger: \"blur\" },\r\n          {\r\n            min: 2,\r\n            max: 15,\r\n            message: \"长度为 2 到 15 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"密码不能为空\", trigger: \"blur\" },\r\n        ],\r\n        nickName: [\r\n          { required: true, message: \"用户昵称不能为空\", trigger: \"blur\" },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: \"手机号不能为空\", trigger: \"blur\" },\r\n        ],\r\n        gender: [\r\n          { required: true, message: \"性别不能为空\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 初始化弹窗\r\n    initDialog(id) {\r\n      this.user.id = id;\r\n      // 打开窗体\r\n      this.visible = true;\r\n      // 获取用户信息\r\n      if (this.user.id) {\r\n        this.$axios.get(`/users/${this.user.id}`).then(({ data }) => {\r\n          this.user = data;\r\n        });\r\n      }\r\n    },\r\n    // 提交用户\r\n    submitUser() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          if (this.user.id) {\r\n            // 提交用户\r\n            this.$axios\r\n              .patch(`/users/${this.user.id}`, this.user)\r\n              .then((response) => {\r\n                // 提示用户\r\n                this.$message.success(\"编辑成功\");\r\n                // 关闭窗体\r\n                this.visible = false;\r\n                // 刷新页面\r\n                this.$emit(\"refreshTable\");\r\n              });\r\n          } else {\r\n            this.$axios.post(\"/users\", this.user).then((response) => {\r\n              // 提示用户\r\n              this.$message.success(\"新增成功\");\r\n              // 关闭窗体\r\n              this.visible = false;\r\n              // 刷新页面\r\n              this.$emit(\"refreshTable\");\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    closeHandle() {\r\n      this.$refs.form.resetFields();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-select {\r\n  display: block;\r\n}\r\n</style>"],"mappings":"AA0CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACA;MACAC,IAAA;QACAC,EAAA,EAAAC,SAAA;QACAC,QAAA,EAAAD,SAAA;QACAE,QAAA,EAAAF,SAAA;QACAG,QAAA,EAAAH,SAAA;QACAI,MAAA,EAAAJ,SAAA;QACAK,MAAA,EAAAL;MACA;MACA;MACAM,KAAA;QACAL,QAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UACAC,GAAA;UACAC,GAAA;UACAH,OAAA;UACAC,OAAA;QACA,EACA;QACAN,QAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,QAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,MAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,MAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA;IACA;IACAC,WAAAd,EAAA;MACA,KAAAD,IAAA,CAAAC,EAAA,GAAAA,EAAA;MACA;MACA,KAAAF,OAAA;MACA;MACA,SAAAC,IAAA,CAAAC,EAAA;QACA,KAAAe,MAAA,CAAAC,GAAA,gBAAAjB,IAAA,CAAAC,EAAA,IAAAiB,IAAA;UAAApB;QAAA;UACA,KAAAE,IAAA,GAAAF,IAAA;QACA;MACA;IACA;IACA;IACAqB,WAAA;MACA,KAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,SAAAvB,IAAA,CAAAC,EAAA;YACA;YACA,KAAAe,MAAA,CACAQ,KAAA,gBAAAxB,IAAA,CAAAC,EAAA,SAAAD,IAAA,EACAkB,IAAA,CAAAO,QAAA;cACA;cACA,KAAAC,QAAA,CAAAC,OAAA;cACA;cACA,KAAA5B,OAAA;cACA;cACA,KAAA6B,KAAA;YACA;UACA;YACA,KAAAZ,MAAA,CAAAa,IAAA,gBAAA7B,IAAA,EAAAkB,IAAA,CAAAO,QAAA;cACA;cACA,KAAAC,QAAA,CAAAC,OAAA;cACA;cACA,KAAA5B,OAAA;cACA;cACA,KAAA6B,KAAA;YACA;UACA;QACA;MACA;IACA;IACAE,YAAA;MACA,KAAAV,KAAA,CAAAC,IAAA,CAAAU,WAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}