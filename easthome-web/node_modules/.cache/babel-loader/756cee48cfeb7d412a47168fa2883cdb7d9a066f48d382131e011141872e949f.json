{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      directions: ['全部', '项目管理', 'IT管理', '数字安全', '软考', '运维', '云计算', '数据库', '软件开发', '办公应用'],\n      dirActiveIndex: 0,\n      technologys: ['全部', '网络工程师', '系统工程师', '安全工程师', '运维工程师', '技术经理', '项目经理', '产品经理', '开发工程师'],\n      techActiveIndex: 0,\n      ways: ['全部', '直播', '面授', '录播'],\n      wayActiveIndex: 0,\n      pageData: {\n        current: 1,\n        size: 16,\n        total: 253\n      },\n      search: {\n        direction: undefined,\n        technology: undefined,\n        way: undefined\n      },\n      courses: []\n    };\n  },\n  methods: {\n    selectLink(type, name, index) {\n      if (type == 'dir') {\n        this.dirActiveIndex = index;\n        this.techActiveIndex = 0;\n        this.wayActiveIndex = 0;\n        this.search = {\n          direction: name == '全部' ? undefined : name,\n          technology: undefined,\n          way: undefined\n        };\n      } else if (type == 'tech') {\n        this.dirActiveIndex = 0;\n        this.techActiveIndex = index;\n        this.wayActiveIndex = 0;\n        this.search = {\n          direction: undefined,\n          technology: name == '全部' ? undefined : name,\n          way: undefined\n        };\n      } else if (type == 'way') {\n        this.dirActiveIndex = 0;\n        this.techActiveIndex = 0;\n        this.wayActiveIndex = index;\n        this.search = {\n          direction: undefined,\n          technology: undefined,\n          way: name == '全部' ? undefined : name\n        };\n      }\n      this.queryCourse();\n    },\n    handleCurrentChange(page) {\n      this.pageData.current = page;\n      this.queryCourse();\n    },\n    queryCourse() {\n      // 查询课程列表,带分页功能,排序,条件\n      this.$axios.get('/courses', {\n        params: {\n          _page: this.pageData.current,\n          _limit: this.pageData.size,\n          _sort: 'sortNum',\n          // 仅查询已发布课程\n          status: '1',\n          direction: this.search.direction,\n          post: this.search.technology,\n          mode: this.search.way\n        }\n      }).then(response => {\n        this.courses = response.data;\n        this.pageData.total = parseInt(response.headers['x-total-count']);\n      });\n    },\n    showDetail(id) {\n      // this.$router.push({name:'ClassDetail'});\n      // 路径传值\n      this.$router.push(`/classDetail/${id}`);\n    }\n  },\n  mounted() {\n    this.queryCourse();\n  }\n};","map":{"version":3,"names":["data","directions","dirActiveIndex","technologys","techActiveIndex","ways","wayActiveIndex","pageData","current","size","total","search","direction","undefined","technology","way","courses","methods","selectLink","type","name","index","queryCourse","handleCurrentChange","page","$axios","get","params","_page","_limit","_sort","status","post","mode","then","response","parseInt","headers","showDetail","id","$router","push","mounted"],"sources":["src/views/ClassCenter.vue"],"sourcesContent":["<template>\r\n    <div class=\"choose-class-center\">\r\n        <div class=\"classify\">\r\n            <div class=\"direction\">\r\n                <span class=\"title\">方向</span>\r\n                <div class=\"filterContent\">\r\n                    <span class=\"filterItem\" v-for=\"(item, index) in directions\" :key=\"index\"\r\n                        @click=\"selectLink('dir', item, index)\" :class=\"{ activeStyle: index === dirActiveIndex }\">\r\n                        {{ item }}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"technology\">\r\n                    <span class=\"title\">岗位</span>\r\n                    <div class=\"filterContent\">\r\n                        <span class=\"filterItem\" v-for=\"(item, index) in technologys\" :key=\"index\"\r\n                            @click=\"selectLink('tech', item, index)\"\r\n                            :class=\"{ activeStyle: index === techActiveIndex }\">\r\n                            {{ item }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"way\"><span class=\"title\">方式</span>\r\n                    <div class=\"filterContent\">\r\n                        <span class=\"filterItem\" v-for=\"(item, index) in ways\" :key=\"index\"\r\n                            @click=\"selectLink('way', item, index)\" :class=\"{ activeStyle: index === wayActiveIndex }\">\r\n                            {{ item }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"class-area\">\r\n            <div class=\"class-area-wait\">\r\n                <div class=\"class-card\">\r\n                    <div class=\"card-item\" v-for=\"c in courses\" :key=\"c.id\" @click=\"showDetail(c.id)\">\r\n                        <!-- 主图 -->\r\n                        <img :src=\"'http://localhost:8080/' + c.mainImg\" class=\"courseImage\">\r\n                        <div class=\"class-text\">\r\n                            <!-- 课程名称 -->\r\n                            <div class=\"class-name\">\r\n                                {{ c.courseName }}\r\n                            </div>\r\n                            <div class=\"begin-time\">\r\n                                <span>开课时间：{{ c.startDate }}</span>\r\n                            </div>\r\n                            <div class=\"class-sign\">\r\n                                <span class=\"type\">{{ c.mode }}</span>\r\n                                <span class=\"sign-item\" v-for=\"s in c.tag.split(',')\" :key=\"s\">{{ s }}</span>\r\n                            </div>\r\n                            <div class=\"class-price fr\">\r\n                                <span class=\"num\">\r\n                                    <span>\r\n                                        <span class=\"pricePrefix\">¥</span>\r\n                                        <span>{{ c.price }}</span>\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"class-pagination\">\r\n                    <el-pagination :current-page=\"pageData.current\" :page-size=\"pageData.size\" :total=\"pageData.total\"\r\n                        background layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\">\r\n                    </el-pagination>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            directions: ['全部', '项目管理', 'IT管理', '数字安全', '软考', '运维', '云计算', '数据库', '软件开发', '办公应用'],\r\n            dirActiveIndex: 0,\r\n            technologys: ['全部', '网络工程师', '系统工程师', '安全工程师', '运维工程师', '技术经理', '项目经理', '产品经理', '开发工程师'],\r\n            techActiveIndex: 0,\r\n            ways: ['全部', '直播', '面授', '录播'],\r\n            wayActiveIndex: 0,\r\n            pageData: {\r\n                current: 1,\r\n                size: 16,\r\n                total: 253\r\n            },\r\n            search: {\r\n                direction: undefined,\r\n                technology: undefined,\r\n                way: undefined\r\n            },\r\n            courses: []\r\n        }\r\n    },\r\n    methods: {\r\n        selectLink(type, name, index) {\r\n            if (type == 'dir') {\r\n                this.dirActiveIndex = index;\r\n                this.techActiveIndex = 0;\r\n                this.wayActiveIndex = 0;\r\n                this.search = {\r\n                    direction: name == '全部' ? undefined : name,\r\n                    technology: undefined,\r\n                    way: undefined\r\n                };\r\n            } else if (type == 'tech') {\r\n                this.dirActiveIndex = 0;\r\n                this.techActiveIndex = index;\r\n                this.wayActiveIndex = 0;\r\n                this.search = {\r\n                    direction: undefined,\r\n                    technology: name == '全部' ? undefined : name,\r\n                    way: undefined\r\n                };\r\n            } else if (type == 'way') {\r\n                this.dirActiveIndex = 0;\r\n                this.techActiveIndex = 0;\r\n                this.wayActiveIndex = index;\r\n                this.search = {\r\n                    direction: undefined,\r\n                    technology: undefined,\r\n                    way: name == '全部' ? undefined : name\r\n                };\r\n            }\r\n            this.queryCourse();\r\n        },\r\n        handleCurrentChange(page) {\r\n            this.pageData.current = page;\r\n            this.queryCourse();\r\n        },\r\n        queryCourse() {\r\n            // 查询课程列表,带分页功能,排序,条件\r\n            this.$axios.get('/courses', {\r\n                params: {\r\n                    _page: this.pageData.current,\r\n                    _limit: this.pageData.size,\r\n                    _sort: 'sortNum',\r\n                    // 仅查询已发布课程\r\n                    status: '1',\r\n                    direction: this.search.direction,\r\n                    post: this.search.technology,\r\n                    mode: this.search.way\r\n                }\r\n            }).then(response => {\r\n                this.courses = response.data;\r\n                this.pageData.total = parseInt(response.headers['x-total-count']);\r\n            });\r\n        },\r\n        showDetail(id) {\r\n            // this.$router.push({name:'ClassDetail'});\r\n            // 路径传值\r\n            this.$router.push(`/classDetail/${id}`);\r\n        }\r\n    },\r\n    mounted() {\r\n        this.queryCourse();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.classify {\r\n    background-color: #f5f7fa;\r\n    padding: 24px 0 10px;\r\n}\r\n\r\n.direction,\r\n.technology,\r\n.way {\r\n    align-items: flex-start;\r\n    display: flex;\r\n    margin: 8px auto 0;\r\n    min-height: 44px;\r\n    width: 1200px;\r\n}\r\n\r\n.title {\r\n    color: #202226;\r\n    display: inline-block;\r\n    font-family: MicrosoftYaHei;\r\n    font-size: 16px;\r\n    font-weight: 700;\r\n    line-height: 28px;\r\n    margin-right: 30px;\r\n}\r\n\r\n.filterContent {\r\n    width: 1054px;\r\n}\r\n\r\n.filterItem {\r\n    color: #202226;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    font-family: MicrosoftYaHei;\r\n    font-size: 14px;\r\n    margin-bottom: 10px;\r\n    margin-right: 7px;\r\n    padding: 4px 15px 5.8px;\r\n}\r\n\r\n.filterItem:hover {\r\n    color: #05f;\r\n}\r\n\r\n.activeStyle {\r\n    background: #dee9ff;\r\n    border-radius: 14px;\r\n    color: #05f;\r\n}\r\n\r\n.class-area {\r\n    max-height: 1620px;\r\n    padding-bottom: 28px;\r\n}\r\n\r\n.class-area-wait {\r\n    margin: 29px auto 0;\r\n    width: 1226px;\r\n}\r\n\r\n.class-card {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.card-item {\r\n    background: url(~@/assets/class/card.png) no-repeat 50%;\r\n    background-size: contain;\r\n    cursor: pointer;\r\n    /* height: 346px; */\r\n    height: 322px;\r\n    padding: 0 13px 24px;\r\n    position: relative;\r\n    /* width: 306px; */\r\n    width: 280px;\r\n}\r\n\r\n.card-item:hover {\r\n    background: url(~@/assets/class/card-selected.png) no-repeat 50%;\r\n    background-size: contain;\r\n    transform: translateY(-12px);\r\n    transition: all .2s;\r\n}\r\n\r\n.courseImage {\r\n    border-radius: 8px 8px 0 0;\r\n    height: 157px;\r\n    width: 100%;\r\n}\r\n\r\n.class-text {\r\n    padding: 11px 16px 12px;\r\n}\r\n\r\n.class-name {\r\n    color: #202226;\r\n    display: -webkit-box;\r\n    font-family: MicrosoftYaHei;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    line-height: 22px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: normal;\r\n}\r\n\r\n.begin-time {\r\n    color: #5a606c;\r\n    font-size: 14px;\r\n    line-height: 19px;\r\n    margin-top: 10px;\r\n    min-height: 19px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    -o-text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n\r\n.class-sign {\r\n    margin-top: 12px;\r\n    min-height: 20px;\r\n}\r\n\r\n.class-sign .type {\r\n    background-color: #d0f9f0;\r\n    border-radius: 4px;\r\n    color: #37c09d;\r\n    font-size: 12px;\r\n    margin-right: 5px;\r\n    padding: 3px 6px;\r\n}\r\n\r\n.class-sign .sign-item {\r\n    background-color: #edeff2;\r\n    border-radius: 4px;\r\n    color: #85909b;\r\n    font-size: 12px;\r\n    margin-right: 5px;\r\n    padding: 3px 6px;\r\n}\r\n\r\n.class-price {\r\n    bottom: 35px;\r\n    color: #ff7800;\r\n    position: absolute;\r\n    right: 29px;\r\n}\r\n\r\n.class-pagination {\r\n    margin-bottom: 20px;\r\n    text-align: center;\r\n}\r\n\r\n</style>"],"mappings":";AAyEA;EACAA,KAAA;IACA;MACAC,UAAA;MACAC,cAAA;MACAC,WAAA;MACAC,eAAA;MACAC,IAAA;MACAC,cAAA;MACAC,QAAA;QACAC,OAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,MAAA;QACAC,SAAA,EAAAC,SAAA;QACAC,UAAA,EAAAD,SAAA;QACAE,GAAA,EAAAF;MACA;MACAG,OAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,IAAA,EAAAC,IAAA,EAAAC,KAAA;MACA,IAAAF,IAAA;QACA,KAAAjB,cAAA,GAAAmB,KAAA;QACA,KAAAjB,eAAA;QACA,KAAAE,cAAA;QACA,KAAAK,MAAA;UACAC,SAAA,EAAAQ,IAAA,WAAAP,SAAA,GAAAO,IAAA;UACAN,UAAA,EAAAD,SAAA;UACAE,GAAA,EAAAF;QACA;MACA,WAAAM,IAAA;QACA,KAAAjB,cAAA;QACA,KAAAE,eAAA,GAAAiB,KAAA;QACA,KAAAf,cAAA;QACA,KAAAK,MAAA;UACAC,SAAA,EAAAC,SAAA;UACAC,UAAA,EAAAM,IAAA,WAAAP,SAAA,GAAAO,IAAA;UACAL,GAAA,EAAAF;QACA;MACA,WAAAM,IAAA;QACA,KAAAjB,cAAA;QACA,KAAAE,eAAA;QACA,KAAAE,cAAA,GAAAe,KAAA;QACA,KAAAV,MAAA;UACAC,SAAA,EAAAC,SAAA;UACAC,UAAA,EAAAD,SAAA;UACAE,GAAA,EAAAK,IAAA,WAAAP,SAAA,GAAAO;QACA;MACA;MACA,KAAAE,WAAA;IACA;IACAC,oBAAAC,IAAA;MACA,KAAAjB,QAAA,CAAAC,OAAA,GAAAgB,IAAA;MACA,KAAAF,WAAA;IACA;IACAA,YAAA;MACA;MACA,KAAAG,MAAA,CAAAC,GAAA;QACAC,MAAA;UACAC,KAAA,OAAArB,QAAA,CAAAC,OAAA;UACAqB,MAAA,OAAAtB,QAAA,CAAAE,IAAA;UACAqB,KAAA;UACA;UACAC,MAAA;UACAnB,SAAA,OAAAD,MAAA,CAAAC,SAAA;UACAoB,IAAA,OAAArB,MAAA,CAAAG,UAAA;UACAmB,IAAA,OAAAtB,MAAA,CAAAI;QACA;MACA,GAAAmB,IAAA,CAAAC,QAAA;QACA,KAAAnB,OAAA,GAAAmB,QAAA,CAAAnC,IAAA;QACA,KAAAO,QAAA,CAAAG,KAAA,GAAA0B,QAAA,CAAAD,QAAA,CAAAE,OAAA;MACA;IACA;IACAC,WAAAC,EAAA;MACA;MACA;MACA,KAAAC,OAAA,CAAAC,IAAA,iBAAAF,EAAA;IACA;EACA;EACAG,QAAA;IACA,KAAApB,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}